<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Hello App Engine</title>
		<link href="css/cmd.css" media="all" rel="stylesheet">
		<style type="text/css">
		</style>
		<script src="http://code.jquery.com/jquery-1.10.2.min.js" ></script>
		<script type="text/javascript">
			step = 1
			limit = 11
			function initByStep() {
				$("#test").attr("disabled", "disabled")
				if (step > limit) return;
				$.ajax({
					cache: false,
					url: "init",
					data: {
						step: step
					},
					success: function(data) {
						console.log(data);
						showData();
						step++
					}
				});
			}
			function showData() {
				$.ajax({
					cache: false,
					url: "show",
					success: function(data) {
						console.log(data);
						if (step <= limit) $("#test").removeAttr("disabled");
					}
				});
				
			}
		</script>
	</head>

	<body>
		<button id="test" onclick="javascript: initByStep();">start</button>
	</body>
</html>
